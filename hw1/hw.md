## Схемы

- [eventstorming](./mcf_eventstorming.pdf)
- [data model](./dm.pdf)
- [communications](./communications.png)
- [structure](./structure.png)

## Разделение на сервисы
### 1. Matching
Этот сервис живёт в своей доменной модели — ubiquitous language («эталонные» и «обычные образцы»), логика подбора и набор шагов, которые нужно динамически конфигурировать.  
Команда матчинга хочет тестировать гипотезы и менять поведение без влияния на остальную систему.  
Выделение отдельного сервиса даёт автономию, гибкость и возможность быстро экспериментировать.

### 2. Hiring
Поток заявок от котов-кандидатов (до **1 000 в день**) и риск DDoS делают этот сервис точкой с высокой нагрузкой.  
Выделение отдельного сервиса позволяет **масштабировать** его независимо от остальной системы и **защитить** другие части от перегрузок.

### 3. OMS + Assembly (в одном монолите)
OMS (Order Management System) управляет заказами, а Assembly — работой отдела расходников.  
Они используют одни и теже сущности, их тесная связь делает **монолитную реализацию более простой и надёжной**, без избыточных коммуникаций между ними.

### 4. Billing
Этот сервис живёт в своей доменной модели — ubiquitous language (аккаунт, транзакция, инвойс), правила расчетов, выплат и оплат.  
Отделение от других сервисов делает биллинг **независимым, устойчивым и быстрым**, а также позволяет гарантировать целостность финансовых данных.  
Он не зависит от скорости других частей системы и может развиваться отдельно.

## Выбор коммуникаций (стриминг и бизнес-события)
Ни в одном требовании нет сценариев, где система должна реагировать мгновенно — допустима небольшая задержка.  
Асинхронные коммуникации дают:
- низкий coupling между сервисами;  
- устойчивость к временным сбоям;  
- независимую эволюцию доменов;
